<html>

<head>
    <script src="https://cdn.ethers.io/scripts/ethers-v4.min.js" charset="utf-8" type="text/javascript">
    </script>
    <title>Ucare by Ucash</title>
    <script>

        // const ContractAddress = "0x8dd91fb8428bc7f3e42946f4c4f6ec108084ed88";
        const ContractAddress = "0xbD52C5265B94f727f0616f831b011c17e1f235A2";
        // const ABI = [
        //     {
        //         "constant": false,
        //         "inputs": [],
        //         "name": "renounceOwnership",
        //         "outputs": [],
        //         "payable": false,
        //         "stateMutability": "nonpayable",
        //         "type": "function"
        //     },
        //     {
        //         "constant": true,
        //         "inputs": [],
        //         "name": "owner",
        //         "outputs": [
        //             {
        //                 "name": "",
        //                 "type": "address"
        //             }
        //         ],
        //         "payable": false,
        //         "stateMutability": "view",
        //         "type": "function"
        //     },
        //     {
        //         "constant": true,
        //         "inputs": [],
        //         "name": "isOwner",
        //         "outputs": [
        //             {
        //                 "name": "",
        //                 "type": "bool"
        //             }
        //         ],
        //         "payable": false,
        //         "stateMutability": "view",
        //         "type": "function"
        //     },
        //     {
        //         "constant": false,
        //         "inputs": [
        //             {
        //                 "name": "newOwner",
        //                 "type": "address"
        //             }
        //         ],
        //         "name": "transferOwnership",
        //         "outputs": [],
        //         "payable": false,
        //         "stateMutability": "nonpayable",
        //         "type": "function"
        //     },
        //     {
        //         "inputs": [],
        //         "payable": false,
        //         "stateMutability": "nonpayable",
        //         "type": "constructor"
        //     },
        //     {
        //         "anonymous": false,
        //         "inputs": [
        //             {
        //                 "indexed": true,
        //                 "name": "previousOwner",
        //                 "type": "address"
        //             },
        //             {
        //                 "indexed": true,
        //                 "name": "newOwner",
        //                 "type": "address"
        //             }
        //         ],
        //         "name": "OwnershipTransferred",
        //         "type": "event"
        //     }
        // ]
        let ABI = [
            {
                "constant": false,
                "inputs": [
                    {
                        "name": "_spender",
                        "type": "address"
                    },
                    {
                        "name": "_value",
                        "type": "uint256"
                    }
                ],
                "name": "approve",
                "outputs": [
                    {
                        "name": "success",
                        "type": "bool"
                    }
                ],
                "payable": false,
                "stateMutability": "nonpayable",
                "type": "function"
            },
            {
                "constant": true,
                "inputs": [],
                "name": "totalSupply",
                "outputs": [
                    {
                        "name": "",
                        "type": "uint256"
                    }
                ],
                "payable": false,
                "stateMutability": "view",
                "type": "function"
            },
            {
                "constant": false,
                "inputs": [
                    {
                        "name": "_from",
                        "type": "address"
                    },
                    {
                        "name": "_to",
                        "type": "address"
                    },
                    {
                        "name": "_value",
                        "type": "uint256"
                    }
                ],
                "name": "transferFrom",
                "outputs": [
                    {
                        "name": "success",
                        "type": "bool"
                    }
                ],
                "payable": false,
                "stateMutability": "nonpayable",
                "type": "function"
            },
            {
                "constant": true,
                "inputs": [
                    {
                        "name": "_owner",
                        "type": "address"
                    }
                ],
                "name": "balanceOf",
                "outputs": [
                    {
                        "name": "balance",
                        "type": "uint256"
                    }
                ],
                "payable": false,
                "stateMutability": "view",
                "type": "function"
            },
            {
                "constant": false,
                "inputs": [
                    {
                        "name": "_to",
                        "type": "address"
                    },
                    {
                        "name": "_value",
                        "type": "uint256"
                    }
                ],
                "name": "transfer",
                "outputs": [
                    {
                        "name": "success",
                        "type": "bool"
                    }
                ],
                "payable": false,
                "stateMutability": "nonpayable",
                "type": "function"
            },
            {
                "constant": true,
                "inputs": [
                    {
                        "name": "_owner",
                        "type": "address"
                    },
                    {
                        "name": "_spender",
                        "type": "address"
                    }
                ],
                "name": "allowance",
                "outputs": [
                    {
                        "name": "remaining",
                        "type": "uint256"
                    }
                ],
                "payable": false,
                "stateMutability": "view",
                "type": "function"
            },
            {
                "anonymous": false,
                "inputs": [
                    {
                        "indexed": true,
                        "name": "_from",
                        "type": "address"
                    },
                    {
                        "indexed": true,
                        "name": "_to",
                        "type": "address"
                    },
                    {
                        "indexed": false,
                        "name": "_value",
                        "type": "uint256"
                    }
                ],
                "name": "Transfer",
                "type": "event"
            },
            {
                "anonymous": false,
                "inputs": [
                    {
                        "indexed": true,
                        "name": "_owner",
                        "type": "address"
                    },
                    {
                        "indexed": true,
                        "name": "_spender",
                        "type": "address"
                    },
                    {
                        "indexed": false,
                        "name": "_value",
                        "type": "uint256"
                    }
                ],
                "name": "Approval",
                "type": "event"
            }
        ]
        let provider = new ethers.providers.Web3Provider(web3.currentProvider, 'rinkeby')
        let signer;
        let ContractInstance;
        // let wallet = new ethers.Waller(prikey.provider)
        provider.listAccounts().then((accounts) => {
            signer = provider.getSigner(accounts[0]);
            ContractInstance = new ethers.Contract(ContractAddress, ABI, signer);
        })

        // console.log(ContractInstance)

        const sendDonation = async () => {
            let fromAddress = '0xC9970f0d5cb99A97b563BFE2A176673Cdf9d74c2'
            let toAddress = '0x03B122cEac0430aeb56Caaa9D879C19c70f8AcdE'
            let done = await ContractInstance.transfer(toAddress, ethers.utils.bigNumberify(10000000000));
            console.log('Transaction Finished')
        }

    </script>
</head>

<body>
    Send money if you car
    <button onclick="sendDonation()">Send Ucash</button>
</body>

</html>